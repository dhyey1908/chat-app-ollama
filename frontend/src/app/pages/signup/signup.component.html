<form [formGroup]="signupForm">
  <div class="auth-page">
    <div class="simple-bg"></div>

    <div class="auth-card-wrapper">
      <div class="brand-header">
        <div class="logo-container">
          <img src="assets/images/geniechat-logo.png" alt="GenieChat Logo" class="logo-icon">
          <span class="logo-text">GenieChat</span>
        </div>
      </div>

      <div class="auth-card">
        <div class="auth-tabs">
          <a routerLink="/login" routerLinkActive="active" class="auth-tab">
            <mat-icon>login</mat-icon>
            <span>Sign In</span>
          </a>
          <a routerLink="/signup" routerLinkActive="active" class="auth-tab">
            <mat-icon>person_add</mat-icon>
            <span>Sign Up</span>
          </a>
        </div>

        <div class="auth-content">
          <div class="welcome-section">
            <h1 class="welcome-title">Create Account</h1>
          </div>

          <div class="input-wrapper"
            [class.has-error]="signupForm.get('email')?.invalid && signupForm.get('email')?.touched">
            <mat-icon class="input-icon">email</mat-icon>
            <input type="email" class="modern-input" placeholder="Email address" formControlName="email">
            <div class="error-msg" *ngIf="signupForm.get('email')?.invalid && signupForm.get('email')?.touched">
              <span *ngIf="signupForm.get('email')?.hasError('required')">Email is required</span>
              <span *ngIf="signupForm.get('email')?.hasError('email')">Please enter a valid email</span>
            </div>
          </div>

          <div class="input-wrapper"
            [class.has-error]="signupForm.get('password')?.invalid && signupForm.get('password')?.touched">
            <mat-icon class="input-icon">lock</mat-icon>
            <input type="password" class="modern-input" placeholder="Password" formControlName="password"
              (input)="checkPasswordStrength()">

            <div class="password-strength" *ngIf="signupForm.get('password')?.value">
              <div class="strength-bars">
                <div class="bar" [class.active]="passwordStrength >= 1" [class.weak]="passwordStrength === 1"></div>
                <div class="bar" [class.active]="passwordStrength >= 2" [class.medium]="passwordStrength === 2"></div>
                <div class="bar" [class.active]="passwordStrength >= 3" [class.strong]="passwordStrength === 3"></div>
                <div class="bar" [class.active]="passwordStrength >= 4" [class.very-strong]="passwordStrength === 4">
                </div>
              </div>
              <span class="strength-label" [ngClass]="getStrengthClass()">
                {{ getStrengthText() }}
              </span>
            </div>

            <div class="error-msg" *ngIf="signupForm.get('password')?.invalid && signupForm.get('password')?.touched">
              <span *ngIf="signupForm.get('password')?.hasError('required')">Password is required</span>
              <span *ngIf="signupForm.get('password')?.hasError('pattern')">Use 8+ chars with upper, lower, number &
                symbol</span>
            </div>
          </div>

          <div class="input-wrapper"
            [class.has-error]="signupForm.get('confirmPassword')?.invalid && signupForm.get('confirmPassword')?.touched">
            <mat-icon class="input-icon">lock_check</mat-icon>
            <input type="password" class="modern-input" placeholder="Confirm password"
              formControlName="confirmPassword">
            <div class="error-msg"
              *ngIf="signupForm.get('confirmPassword')?.invalid && signupForm.get('confirmPassword')?.touched">
              <span>Passwords do not match</span>
            </div>
          </div>

          <label class="custom-checkbox terms-check">
            <input type="checkbox" required>
            <span class="checkmark"></span>
            <span class="checkbox-label">
              I agree to the <a href="#" class="inline-link">Terms</a> and <a href="#" class="inline-link">Privacy
                Policy</a>
            </span>
          </label>

          <button class="submit-btn" type="button" (click)="signup()" [disabled]="signupForm.invalid">
            <span>Create Account</span>
            <mat-icon>arrow_forward</mat-icon>
          </button>

          <p class="footer-text">
            Already have an account?
            <a routerLink="/login" class="link-highlight">Sign in instead</a>
          </p>
        </div>
      </div>
    </div>
  </div>
</form>